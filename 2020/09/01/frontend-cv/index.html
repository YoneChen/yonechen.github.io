<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="opencv,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="å¯¼è¯­ï¼šå‰ç«¯æ™ºèƒ½åŒ–ï¼Œå°±æ˜¯é€šè¿‡AI/CVæŠ€æœ¯ï¼Œä½¿å‰ç«¯å·¥å…·é“¾å…·å¤‡ç†è§£èƒ½åŠ›ï¼Œè¿›è€Œè¾…åŠ©å¼€å‘æå‡ç ”å‘æ•ˆç‡ï¼Œæ¯”å¦‚å®ç°åŸºäºè®¾è®¡ç¨¿æ™ºèƒ½å¸ƒå±€å’Œç»„ä»¶æ™ºèƒ½è¯†åˆ«ç­‰ã€‚ æœ¬æ–‡è¦ä»‹ç»çš„æ˜¯å‰ç«¯æ™ºèƒ½åŒ–çš„ä¸€ç±»å®è·µï¼šé€šè¿‡è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ å®ç°è‡ªåŠ¨æå–å›¾ç‰‡ä¸­çš„UIæ ·å¼çš„èƒ½åŠ›ã€‚  å…·ä½“æ•ˆæœå¦‚ä¸Šå›¾ï¼Œå½“ç”¨æˆ·æ¡†é€‰å›¾ç‰‡ä¸­åŒ…å«ç»„ä»¶çš„åŒºåŸŸï¼Œç®—æ³•èƒ½å‡†ç¡®å®šä½ç»„ä»¶ä½ç½®ï¼Œå¹¶æœ‰æ•ˆè¯†åˆ«ç»„ä»¶çš„UIæ ·å¼ã€‚ æ ·å¼æå–æ–¹æ¡ˆå¯¹å›¾åƒçš„æ ·å¼æ£€æµ‹æ¶‰åŠè®¡ç®—æœºè§†è§‰é¢†åŸŸçŸ¥è¯†ï¼Œæœ¬æ–‡åŸºäº">
<meta name="keywords" content="opencv">
<meta property="og:type" content="article">
<meta property="og:title" content="å‰ç«¯æ™ºèƒ½åŒ–å®è·µ â€”â€”ä»å›¾ç‰‡è¯†åˆ«UIæ ·å¼">
<meta property="og:url" content="https://www.yonechen.com/2020/09/01/frontend-cv/index.html">
<meta property="og:site_name" content="Yone Chen">
<meta property="og:description" content="å¯¼è¯­ï¼šå‰ç«¯æ™ºèƒ½åŒ–ï¼Œå°±æ˜¯é€šè¿‡AI/CVæŠ€æœ¯ï¼Œä½¿å‰ç«¯å·¥å…·é“¾å…·å¤‡ç†è§£èƒ½åŠ›ï¼Œè¿›è€Œè¾…åŠ©å¼€å‘æå‡ç ”å‘æ•ˆç‡ï¼Œæ¯”å¦‚å®ç°åŸºäºè®¾è®¡ç¨¿æ™ºèƒ½å¸ƒå±€å’Œç»„ä»¶æ™ºèƒ½è¯†åˆ«ç­‰ã€‚ æœ¬æ–‡è¦ä»‹ç»çš„æ˜¯å‰ç«¯æ™ºèƒ½åŒ–çš„ä¸€ç±»å®è·µï¼šé€šè¿‡è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ å®ç°è‡ªåŠ¨æå–å›¾ç‰‡ä¸­çš„UIæ ·å¼çš„èƒ½åŠ›ã€‚  å…·ä½“æ•ˆæœå¦‚ä¸Šå›¾ï¼Œå½“ç”¨æˆ·æ¡†é€‰å›¾ç‰‡ä¸­åŒ…å«ç»„ä»¶çš„åŒºåŸŸï¼Œç®—æ³•èƒ½å‡†ç¡®å®šä½ç»„ä»¶ä½ç½®ï¼Œå¹¶æœ‰æ•ˆè¯†åˆ«ç»„ä»¶çš„UIæ ·å¼ã€‚ æ ·å¼æå–æ–¹æ¡ˆå¯¹å›¾åƒçš„æ ·å¼æ£€æµ‹æ¶‰åŠè®¡ç®—æœºè§†è§‰é¢†åŸŸçŸ¥è¯†ï¼Œæœ¬æ–‡åŸºäº">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-4d1a24d3b9f31b02.gif?imageMogr2/auto-orient/strip">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-f9bd88cb6332777f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-e20eca4018067284.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-9e9a4221ff46b656.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-b137d63227a3ddf8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-522fb766a54fdfa0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-8a25f9283056a5e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-bd523e110ef0a7cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-883f86b81e4e077f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-b8ed52e6d060aee2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-440976f603bdcdc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/1939855-b05c9056e868c828.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2021-03-02T04:08:32.416Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å‰ç«¯æ™ºèƒ½åŒ–å®è·µ â€”â€”ä»å›¾ç‰‡è¯†åˆ«UIæ ·å¼">
<meta name="twitter:description" content="å¯¼è¯­ï¼šå‰ç«¯æ™ºèƒ½åŒ–ï¼Œå°±æ˜¯é€šè¿‡AI/CVæŠ€æœ¯ï¼Œä½¿å‰ç«¯å·¥å…·é“¾å…·å¤‡ç†è§£èƒ½åŠ›ï¼Œè¿›è€Œè¾…åŠ©å¼€å‘æå‡ç ”å‘æ•ˆç‡ï¼Œæ¯”å¦‚å®ç°åŸºäºè®¾è®¡ç¨¿æ™ºèƒ½å¸ƒå±€å’Œç»„ä»¶æ™ºèƒ½è¯†åˆ«ç­‰ã€‚ æœ¬æ–‡è¦ä»‹ç»çš„æ˜¯å‰ç«¯æ™ºèƒ½åŒ–çš„ä¸€ç±»å®è·µï¼šé€šè¿‡è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ å®ç°è‡ªåŠ¨æå–å›¾ç‰‡ä¸­çš„UIæ ·å¼çš„èƒ½åŠ›ã€‚  å…·ä½“æ•ˆæœå¦‚ä¸Šå›¾ï¼Œå½“ç”¨æˆ·æ¡†é€‰å›¾ç‰‡ä¸­åŒ…å«ç»„ä»¶çš„åŒºåŸŸï¼Œç®—æ³•èƒ½å‡†ç¡®å®šä½ç»„ä»¶ä½ç½®ï¼Œå¹¶æœ‰æ•ˆè¯†åˆ«ç»„ä»¶çš„UIæ ·å¼ã€‚ æ ·å¼æå–æ–¹æ¡ˆå¯¹å›¾åƒçš„æ ·å¼æ£€æµ‹æ¶‰åŠè®¡ç®—æœºè§†è§‰é¢†åŸŸçŸ¥è¯†ï¼Œæœ¬æ–‡åŸºäº">
<meta name="twitter:image" content="https://upload-images.jianshu.io/upload_images/1939855-4d1a24d3b9f31b02.gif?imageMogr2/auto-orient/strip">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.yonechen.com/2020/09/01/frontend-cv/">





  <title>å‰ç«¯æ™ºèƒ½åŒ–å®è·µ â€”â€”ä»å›¾ç‰‡è¯†åˆ«UIæ ·å¼ | Yone Chen</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yone Chen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cases">
          <a href="/cases/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            cases
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.yonechen.com/2020/09/01/frontend-cv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yone Chen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yone Chen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">å‰ç«¯æ™ºèƒ½åŒ–å®è·µ â€”â€”ä»å›¾ç‰‡è¯†åˆ«UIæ ·å¼</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-01T11:44:53+08:00">
                2020-09-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><em>å¯¼è¯­ï¼šå‰ç«¯æ™ºèƒ½åŒ–ï¼Œå°±æ˜¯é€šè¿‡AI/CVæŠ€æœ¯ï¼Œä½¿å‰ç«¯å·¥å…·é“¾å…·å¤‡ç†è§£èƒ½åŠ›ï¼Œè¿›è€Œè¾…åŠ©å¼€å‘æå‡ç ”å‘æ•ˆç‡ï¼Œæ¯”å¦‚å®ç°åŸºäºè®¾è®¡ç¨¿æ™ºèƒ½å¸ƒå±€å’Œç»„ä»¶æ™ºèƒ½è¯†åˆ«ç­‰ã€‚</em></p>
<p>æœ¬æ–‡è¦ä»‹ç»çš„æ˜¯å‰ç«¯æ™ºèƒ½åŒ–çš„ä¸€ç±»å®è·µï¼šé€šè¿‡è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ å®ç°è‡ªåŠ¨æå–å›¾ç‰‡ä¸­çš„UIæ ·å¼çš„èƒ½åŠ›ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-4d1a24d3b9f31b02.gif?imageMogr2/auto-orient/strip" alt="demoå®ç°æ•ˆæœ"></p>
<p>å…·ä½“æ•ˆæœå¦‚ä¸Šå›¾ï¼Œå½“ç”¨æˆ·æ¡†é€‰å›¾ç‰‡ä¸­åŒ…å«ç»„ä»¶çš„åŒºåŸŸï¼Œç®—æ³•èƒ½å‡†ç¡®å®šä½ç»„ä»¶ä½ç½®ï¼Œå¹¶æœ‰æ•ˆè¯†åˆ«ç»„ä»¶çš„UIæ ·å¼ã€‚</p>
<h1 id="æ ·å¼æå–æ–¹æ¡ˆ"><a href="#æ ·å¼æå–æ–¹æ¡ˆ" class="headerlink" title="æ ·å¼æå–æ–¹æ¡ˆ"></a>æ ·å¼æå–æ–¹æ¡ˆ</h1><p>å¯¹å›¾åƒçš„æ ·å¼æ£€æµ‹æ¶‰åŠè®¡ç®—æœºè§†è§‰é¢†åŸŸçŸ¥è¯†ï¼Œæœ¬æ–‡åŸºäº<a href="https://opencv.org/about/" target="_blank" rel="noopener">OpenCV</a>è¿›è¡Œä»£ç å®ç°ï¼Œä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li>ä»å›¾ç‰‡æ£€æµ‹å¹¶åˆ†ç¦»ç»„ä»¶åŒºåŸŸï¼›</li>
<li>åŸºäºç»„ä»¶åŒºåŸŸè¿›è¡Œå½¢çŠ¶æ£€æµ‹ï¼›</li>
<li>å¯¹ç¬¦åˆè§„åˆ™å½¢çŠ¶çš„ç»„ä»¶è¿›è¡Œæ ·å¼è®¡ç®—ã€‚</li>
</ol>
<h2 id="1-ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ"><a href="#1-ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ" class="headerlink" title="1. ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ"></a>1. ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ</h2><p>ç»„ä»¶åŒºåŸŸåˆ†ç¦»ä¸»è¦æ˜¯é€šè¿‡å›¾åƒåˆ†å‰²ç®—æ³•ï¼Œè¯†åˆ«ç»„ä»¶åŒºåŸŸï¼ˆå‰æ™¯ï¼‰å’ŒèƒŒæ™¯åŒºåŸŸï¼Œæœ¬æ–‡ä¸»è¦ä»ç”¨æˆ·æ¡†é€‰æ“ä½œä¸Šè€ƒè™‘ï¼Œé‡‡ç”¨äº†å¯äº¤äº’å¯è¿­ä»£çš„Grab Cutç®—æ³•ã€‚<br>Grab cut ç®—æ³•å…è®¸ç”¨æˆ·æ¡†é€‰ä½œä¸ºå‰æ™¯è¾“å…¥ï¼Œåˆ©ç”¨æ··åˆé«˜æ–¯æ¨¡å‹GMMï¼Œæ‰¾åˆ°å‰æ™¯å’ŒèƒŒæ™¯çš„æœ€ä½³åˆ†å‰²è·¯å¾„ï¼Œå…·ä½“å¯å‚è€ƒæ–‡ç« ï¼š<a href="https://blog.csdn.net/zouxy09/article/details/8534954" target="_blank" rel="noopener">å›¾åƒåˆ†å‰²â€”â€”Grab Cutç®—æ³•</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-f9bd88cb6332777f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¾“å…¥æ¡†é€‰åŒºï¼ŒGrabCutè¾“å‡ºç»„ä»¶é®ç½©"></p>
<p>å¦‚ä¸Šå›¾ï¼Œé€šè¿‡è°ƒç”¨OpenCVçš„<code>cv2.grabCut</code>æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°†ç»„ä»¶å‰æ™¯æ¡†(x, y, width, height)ä½œä¸ºæ–¹æ³•å…¥å‚ï¼Œè¯†åˆ«å‡ºçš„ç»„ä»¶åƒç´ è¢«å­˜å‚¨åœ¨maské®ç½©ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extract</span><span class="params">(img, rect)</span>:</span></span><br><span class="line">  <span class="string">"""è¾“å…¥æ¡†é€‰åŒºï¼Œè¾“å‡ºGrabCuté®ç½©"""</span></span><br><span class="line">  x, y, w, h = rect</span><br><span class="line">  roi_img = img[y:y+h, x:x+h]</span><br><span class="line">  mask = np.zeros(roi_img.shape[:<span class="number">2</span>], np.uint8) <span class="comment"># åˆå§‹åŒ–é®ç½©å±‚</span></span><br><span class="line">  bgdModel = np.zeros((<span class="number">1</span>, <span class="number">65</span>), np.float64)</span><br><span class="line">  fgdModel = np.zeros((<span class="number">1</span>, <span class="number">65</span>), np.float64)</span><br><span class="line">  <span class="comment"># å‡½æ•°çš„è¿”å›å€¼æ˜¯æ›´æ–°çš„ mask, bgdModel, fgdModel</span></span><br><span class="line">  cv2.grabCut(img, mask, rect, bgdModel, fgdModel, <span class="number">4</span>, cv2.GC_INIT_WITH_RECT)</span><br><span class="line">  mask = np.where((mask == <span class="number">2</span>) | (mask == <span class="number">0</span>), <span class="number">0</span>, <span class="number">255</span>).astype(<span class="string">"uint8"</span>)</span><br><span class="line">  <span class="keyword">return</span> mask</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬ä»èƒŒæ™¯åˆ†ç¦»å‡ºç›®æ ‡é®ç½©ï¼Œå®ƒæ˜¯åŒ…å«äº†Nä¸ªç»„ä»¶åŒºåŸŸçš„äºŒå€¼å›¾ã€‚</p>
<h3 id="2-å½¢çŠ¶æ£€æµ‹"><a href="#2-å½¢çŠ¶æ£€æµ‹" class="headerlink" title="2. å½¢çŠ¶æ£€æµ‹"></a>2. å½¢çŠ¶æ£€æµ‹</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å½¢çŠ¶æ£€æµ‹ä»é®ç½©åŒºç­›é€‰å‡ºå¤šä¸ªå¯ç”¨æ ·å¼è¿˜åŸçš„ç»„ä»¶ï¼Œæ¯”å¦‚çŸ©å½¢ã€å¸¦åœ†è§’çŸ©å½¢å’Œåœ†å½¢ã€‚<br>å…·ä½“åˆ†ä¸ºä¸¤æ­¥ï¼š1) æå–ç»„ä»¶å¤–è½®å»“ 2) éœå¤«æ£€æµ‹è¯†åˆ«è½®å»“å½¢çŠ¶</p>
<h3 id="2-1-å¤–è½®å»“æå–"><a href="#2-1-å¤–è½®å»“æå–" class="headerlink" title="2.1 å¤–è½®å»“æå–"></a>2.1 å¤–è½®å»“æå–</h3><p>ç¬¬ä¸€æ­¥æ˜¯é€šè¿‡å‰é¢å›¾å‰²é®ç½©è¿›è¡Œå¤–è½®å»“æå–ï¼Œæ’é™¤ç»„ä»¶å†…éƒ¨å…¶å®ƒçº¿æ¡å¸¦æ¥çš„å½±å“ã€‚è½®å»“æå–ä¸»è¦ä½¿ç”¨<a href="(https://blog.csdn.net/yiqiudream/article/details/76864722">Suzuki85è½®å»“è·Ÿè¸ªç®—æ³•</a>)ï¼Œè¯¥ç®—æ³•åŸºäºäºŒå€¼å›¾åƒæ‹“è¡¥ï¼Œèƒ½ç¡®å®šè¿é€šåŸŸçš„åŒ…å«å…³ç³»ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-e20eca4018067284.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¤–è½®å»“æå–æµç¨‹"></p>
<p>è¿™é‡Œé‡‡ç”¨çš„æ˜¯<a href="https://zhuanlan.zhihu.com/p/59640437" target="_blank" rel="noopener">Cannyè¾¹ç¼˜æ£€æµ‹</a>æ¥å¾—åˆ°å›¾åƒè¾¹ç¼˜å›¾ï¼Œå†é€šè¿‡Suzuki85ç®—æ³•<code>cv2.findContours</code>ä»å›¾åƒè¾¹ç¼˜æå–å¤–è½®å»“ã€‚</p>
<h3 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">separate</span><span class="params">(img, th=<span class="number">5</span>)</span>:</span></span><br><span class="line">    <span class="string">"""è¾“å…¥ç»„ä»¶åŒºåŸŸé®ç½©ï¼Œè¾“å‡ºå¤šä¸ªç»„ä»¶å¤–è½®å»“åˆ—è¡¨"""</span></span><br><span class="line">    new_img = img.copy()</span><br><span class="line">    new_img = cv2.Canny(new_img, <span class="number">50</span>, <span class="number">150</span>)</span><br><span class="line">    new_img = image_morphology(new_img)</span><br><span class="line">    cnts, _ = cv2.findContours(new_img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)</span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">for</span> cnt <span class="keyword">in</span> cnts:</span><br><span class="line">        x, y, w, h = cv2.boundingRect(cnt)</span><br><span class="line">        <span class="keyword">if</span> (w &lt; th) | (h &lt; th):</span><br><span class="line">        <span class="string">"""å‰”é™¤å™ªç‚¹"""</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        data.append((cnt, x, y, w, h))</span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€æ­¥æˆ‘ä»¬å¾—åˆ°äº†å›¾åƒä¸­æ‰€æœ‰ç»„ä»¶çš„å¤–è½®å»“ä»¥åŠå…·ä½“çš„åæ ‡<code>x,y</code>å’Œå®½é«˜<code>w,h</code>ã€‚</p>
<h3 id="2-2-ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹"><a href="#2-2-ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹" class="headerlink" title="2.2 ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹"></a>2.2 ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹</h3><p>ç¬¬äºŒæ­¥åˆ™æ˜¯å¯¹æ¯ä¸ªç»„ä»¶å¤–è½®å»“è¿›è¡Œå›¾å½¢ç±»å‹è¯†åˆ«ï¼Œå…¶ä¸­é™¤äº†çŸ©å½¢ã€åœ†å½¢æ˜¯æ ·å¼å¯è¿˜åŸå›¾å½¢ï¼Œå…¶å®ƒéƒ½ä¸å¯è¿˜åŸï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯æ£€æµ‹å‡ºè¿™ä¸¤ç§åŸºæœ¬å›¾å½¢ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-9e9a4221ff46b656.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ£€æµ‹ç›®æ ‡ï¼šåœ†å½¢&amp;çŸ©å½¢"></p>
<p>è¿™é‡Œè¿ç”¨<a href="[https://en.wikipedia.org/wiki/Hough_transform](https://en.wikipedia.org/wiki/Hough_transform">éœå¤«å˜æ¢(Hough Transform)</a><br>)æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ç§è¯†åˆ«å‡ ä½•å½¢çŠ¶çš„ç®—æ³•ï¼Œä¸»è¦é‡‡ç”¨æŠ•ç¥¨æœºåˆ¶ä»å¤šä¸ªç‰¹å¾ç‚¹æ‹Ÿåˆå›¾åƒä¸­çº¿æ®µå’Œæ›²çº¿çš„å‚æ•°æ–¹ç¨‹ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-b137d63227a3ddf8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="éœå¤«æ£€æµ‹ç›´çº¿æ­¥éª¤"></p>
<h4 id="2-2-1-çŸ©å½¢æ£€æµ‹"><a href="#2-2-1-çŸ©å½¢æ£€æµ‹" class="headerlink" title="2.2.1 çŸ©å½¢æ£€æµ‹"></a>2.2.1 çŸ©å½¢æ£€æµ‹</h4><p>æ£€æµ‹çŸ©å½¢ä¸»è¦åˆ†ä¸¤æ­¥ï¼š1ï¼‰é€šè¿‡éœå¤«ç›´çº¿å˜æ¢æ£€æµ‹å¤–è½®å»“çš„è¾¹ï¼›2ï¼‰æ ¹æ®è¾¹ï¼ˆçº¿æ®µï¼‰é›†åˆåˆ¤æ–­æ˜¯å¦ç¬¦åˆçŸ©å½¢ç‰¹å¾ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-522fb766a54fdfa0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>OpenCVæä¾›çº¿æ®µæ£€æµ‹æ–¹æ³•<code>cv2.HoughLinesP</code>ï¼Œè¾“å…¥å¤–è½®å»“ï¼Œè¾“å‡ºæ£€æµ‹åˆ°çš„çº¿æ®µï¼Œå…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æµ‹çŸ©å½¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">detectRectangle</span><span class="params">(img, width, height)</span>:</span></span><br><span class="line">    minLineLength = <span class="number">10</span></span><br><span class="line">    maxLineGap = <span class="number">4</span></span><br><span class="line">    <span class="comment"># éœå¤«ç›´çº¿å˜æ¢è¾“å‡ºæ£€æµ‹åˆ°çš„çº¿æ®µæ•°ç»„</span></span><br><span class="line">    lines = cv2.HoughLinesP(img, <span class="number">1</span>, np.pi/<span class="number">180</span>, <span class="number">100</span>, minLineLength, maxLineGap)</span><br><span class="line">    segments = lines.reshape(lines.shape[<span class="number">0</span>], <span class="number">4</span>)</span><br><span class="line">    <span class="comment"># å°†çº¿æ®µæ•°ç»„è¿›è¡Œè¿›ä¸€æ­¥æ£€æµ‹ï¼Œåˆ¤æ–­æ˜¯å¦å‘½ä¸­çŸ©å½¢è§„åˆ™</span></span><br><span class="line">    <span class="keyword">return</span> judgeRectangle(segments, width, height)</span><br></pre></td></tr></table></figure>
<p>å–åˆ°çº¿æ®µé›†åˆåï¼Œæˆ‘ä»¬å†åˆ¤æ–­æ˜¯å¦æ»¡è¶³çŸ©å½¢è¾¹çš„ç‰¹å¾ï¼š</p>
<ol>
<li>å­˜åœ¨ä¸¤æ¡æ°´å¹³æ–¹å‘çº¿æ®µå’Œä¸¤æ¡å‚ç›´æ–¹å‘çº¿æ®µ</li>
<li>ä¸Šçº¿æ®µåˆ°ä¸‹çº¿æ®µè·ç¦»â‰ˆç»„ä»¶é«˜åº¦ï¼Œå·¦çº¿æ®µåˆ°å³çº¿æ®µè·ç¦»â‰ˆç»„ä»¶å®½åº¦</li>
</ol>
<h4 id="ä»£ç å®ç°-2"><a href="#ä»£ç å®ç°-2" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""åˆ¤æ–­æ˜¯å¦ä¸ºçŸ©å½¢"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">judgeRectangle</span><span class="params">(lines, width, height, x=<span class="number">0</span>, y=<span class="number">0</span>)</span>:</span></span><br><span class="line">    th = <span class="number">2</span></span><br><span class="line">    horizontal_segments = lines[np.where(abs(lines[:, <span class="number">1</span>] - lines[:, <span class="number">3</span>]) &lt; th)]</span><br><span class="line">    vertical_segments = lines[np.where(abs(lines[:, <span class="number">0</span>] - lines[:, <span class="number">2</span>]) &lt; th)]</span><br><span class="line">    isRect = <span class="literal">False</span></span><br><span class="line">    h = w = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> horizontal_segments.size != <span class="number">0</span>:</span><br><span class="line">        horizontal_centers = (</span><br><span class="line">            horizontal_segments[:, <span class="number">1</span>] / <span class="number">2</span> + horizontal_segments[:, <span class="number">3</span>] / <span class="number">2</span></span><br><span class="line">        )</span><br><span class="line">        top = horizontal_centers.min()</span><br><span class="line">        bottom = horizontal_centers.max()</span><br><span class="line">        h = bottom - top</span><br><span class="line">        <span class="keyword">if</span> abs(h - height) &gt; th:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="literal">None</span>, <span class="literal">None</span>  <span class="comment"># å¦‚æœä¸¤çº¿é—´éš”éå›¾å½¢é«˜åº¦ï¼Œåˆ™ä¸è§„åˆ™å›¾ç‰‡</span></span><br><span class="line">        isRect = <span class="literal">True</span></span><br><span class="line">        h = int(round(h))</span><br><span class="line">    <span class="keyword">if</span> vertical_segments.size != <span class="number">0</span>:</span><br><span class="line">        vertical_centers = vertical_segments[:, <span class="number">0</span>] / <span class="number">2</span> + vertical_segments[:, <span class="number">2</span>] / <span class="number">2</span></span><br><span class="line">        left = vertical_centers.min()</span><br><span class="line">        right = vertical_centers.max()</span><br><span class="line">        w = right - left</span><br><span class="line">        <span class="keyword">if</span> abs(w - width) &gt; th:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">        isRect = <span class="literal">True</span></span><br><span class="line">        w = int(round(w))</span><br><span class="line">    <span class="keyword">return</span> isRect, w, h</span><br></pre></td></tr></table></figure>
<h4 id="2-2-2-åœ†å½¢æ£€æµ‹"><a href="#2-2-2-åœ†å½¢æ£€æµ‹" class="headerlink" title="2.2.2 åœ†å½¢æ£€æµ‹"></a>2.2.2 åœ†å½¢æ£€æµ‹</h4><p>åœ†å½¢æ£€æµ‹å¯ä½¿ç”¨éœå¤«åœ†ç¯æ£€æµ‹æ³•ï¼Œå¯¹åº”OpenCVçš„<code>HoughCircles</code>æ–¹æ³•ï¼Œè¾“å…¥äºŒå€¼å›¾ï¼Œå¦‚æœå­˜åœ¨åœ†å½¢ï¼Œåˆ™è¿”å›åœ†å½¢å’ŒåŠå¾„ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æµ‹åœ†å½¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">detectCircle</span><span class="params">(img, width, height)</span>:</span></span><br><span class="line">    circles = cv2.HoughCircles(img,cv2.HOUGH_GRADIENT,<span class="number">1</span>,<span class="number">20</span>,param1=<span class="number">30</span>,param2=<span class="number">15</span>,minRadius=<span class="number">10</span>,maxRadius=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> circles <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    [radius, rx, ry] = circles[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> judgeCircle(radius, rx, ry, width, height)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">judgeCircle</span><span class="params">(r, rx, ry, w, h, x=<span class="number">0</span>, y=<span class="number">0</span>, th=<span class="number">4</span>)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        (abs(w - h) &lt; th)</span><br><span class="line">        &amp; (abs(r - w / <span class="number">2</span>) &lt; th)</span><br><span class="line">        &amp; (abs(rx - x - w / <span class="number">2</span>) &lt; th)</span><br><span class="line">        &amp; (abs(ry - y - h / <span class="number">2</span>) &lt; th)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬ç­›é€‰å‡ºå±äºçŸ©å½¢æˆ–åœ†å½¢çš„ç»„ä»¶ï¼Œä»¥åŠç»„ä»¶çš„å®½é«˜ã€åœ†å½¢ä»¥åŠå¯¹åº”çš„åŠå¾„ï¼Œä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹è¿™ä¸¤ç§åŸºæœ¬å›¾å½¢è¿›è¡Œæ ·å¼æ£€æµ‹ã€‚</p>
<h2 id="3-ç»„ä»¶çš„æ ·å¼è®¡ç®—"><a href="#3-ç»„ä»¶çš„æ ·å¼è®¡ç®—" class="headerlink" title="3. ç»„ä»¶çš„æ ·å¼è®¡ç®—"></a>3. ç»„ä»¶çš„æ ·å¼è®¡ç®—</h2><p>ç»„ä»¶æ ·å¼è®¡ç®—ä¸»è¦å¯¹è¾¹æ¡†ã€åœ†è§’ã€èƒŒæ™¯ä¸‰ç§å¸¸ç”¨æ ·å¼åˆ†åˆ«è®¡ç®—ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-8a25f9283056a5e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç»„ä»¶çš„æ ·å¼æ£€æµ‹"></p>
<h3 id="3-1-åœ†è§’è®¡ç®—"><a href="#3-1-åœ†è§’è®¡ç®—" class="headerlink" title="3.1 åœ†è§’è®¡ç®—"></a>3.1 åœ†è§’è®¡ç®—</h3><p>åœ¨æ ·å¼å®šä¹‰ä¸­ï¼Œåœ†è§’è¢«é™åˆ¶åœ¨çŸ©å½¢çš„å››ä¸ªé¡¶ç‚¹å¤„ï¼Œåœ†è§’å¼§åº¦å–å†³äºå®ƒçš„åŠå¾„ï¼Œå› æ­¤åœ†è§’è®¡ç®—çš„ä¸»è¦ç›®æ ‡å°±æ˜¯è¯†åˆ«åœ†è§’çš„åŠå¾„ã€‚<br>æ ¹æ®åœ†è§’çš„4ä¸ªæ–¹ä½ï¼Œæˆ‘ä»¬å°†ç»„ä»¶åŒºåŸŸåˆ’åˆ†ä¸º4å—è¿›è¡Œé€å—åˆ†æã€‚<br>ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬é‡‡ç”¨ç›´æ¥å¯¹åœ†å¼§ç‚¹è¿›è¡Œåœ†çš„æ›²çº¿æ‹Ÿåˆï¼Œä½†ç”±äºåœ†è§’ç‚¹çš„æ•°æ®è¿‡äºé›†ä¸­ï¼Œæ‹Ÿåˆåœ†çš„è¯¯å·®å¾ˆå¤§ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-bd523e110ef0a7cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æœ€å°äºŒä¹˜æ³•å¯¹é›†ä¸­æ•°æ®ç‚¹é›†æ‹Ÿåˆæ•ˆæœå·®"></p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ†è§’ç»è¿‡åå­—å¯¹ç§°åèƒ½æ„é€ å‡ºä¸€ä¸ªåœ†å½¢ï¼Œå› æ­¤ï¼Œåªè¦æˆ‘ä»¬ç¡®å®šäº†â€œåœ†è§’â€çš„å€™é€‰åŒºåŸŸï¼Œæ„é€ åå­—è½´å¯¹ç§°å›¾ï¼Œå°±å¯ä»¥æ ¹æ®åœ†å½¢æ‹Ÿåˆå‡†ç¡®åˆ¤æ–­æ˜¯å¦ä¸ºæ»¡è¶³åœ†è§’ç‰¹å¾äº†ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å‡è®¾å­˜åœ¨åœ†è§’ï¼Œç”¨é¢ç§¯æ¨ç®—åœ†è§’åŠå¾„ï¼Œç¡®å®šâ€œå€™é€‰åŒºåŸŸâ€</li>
<li>æ„é€ â€œå€™é€‰åŒºåŸŸâ€æ°´å¹³-ç«–ç›´è½´å¯¹ç§°å›¾å½¢ï¼Œå¯¹å›¾å½¢è¿›è¡Œéœå¤«åœ†ç¯æ£€æµ‹ï¼ŒéªŒè¯æ˜¯å¦ä¸ºåœ†è§’</li>
</ol>
<h4 id="3-1-1-åœ†è§’åŠå¾„æ¨ç®—"><a href="#3-1-1-åœ†è§’åŠå¾„æ¨ç®—" class="headerlink" title="3.1.1 åœ†è§’åŠå¾„æ¨ç®—"></a>3.1.1 åœ†è§’åŠå¾„æ¨ç®—</h4><p>æˆ‘ä»¬å‡è®¾å­˜åœ¨åœ†è§’ï¼ŒåŠå¾„ä¸ºRï¼Œå¦‚ä¸‹å›¾é»„è‰²è‰²å—åŒºåŸŸï¼Œæ˜¯ç»„ä»¶æ¡†ä¸å¡«å……ç»„ä»¶çš„å·®é›†ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-883f86b81e4e077f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é¢ç§¯åŒºåŸŸæ¨ç®—åœ†è§’åŠå¾„"></p>
<p>åŒæ—¶ï¼Œé»„è‰²å—ä¹Ÿæ˜¯ä»¥è¾¹é•¿Rä¸ºæ­£æ–¹å½¢ä¸åŠå¾„Rä¸º1/4åœ†çš„å·®é›†ï¼Œå³<code>s = RÂ² - Ï€ Ã— RÂ² Ã— Â¼</code>ï¼Œäºæ˜¯è”ç«‹æ–¹ç¨‹ï¼Œå¯æ±‚è§£åœ†è§’åŠå¾„Rï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<p>è¿™ä¸€æ­¥æˆ‘ä»¬æ ¹æ®é¢ç§¯å·®é›†è®¡ç®—å‡ºåŠå¾„Rï¼Œé€šè¿‡Rï¼Œæˆ‘ä»¬è£å‰ªå‡ºâ€œå€™é€‰åŒºåŸŸâ€ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥éªŒè¯ã€‚</p>
<h4 id="3-1-2-å€™é€‰åŒºåŸŸéªŒè¯"><a href="#3-1-2-å€™é€‰åŒºåŸŸéªŒè¯" class="headerlink" title="3.1.2 å€™é€‰åŒºåŸŸéªŒè¯"></a>3.1.2 å€™é€‰åŒºåŸŸéªŒè¯</h4><p>è¿™ä¸€æ­¥å…ˆæ„é€ è½´å¯¹ç§°å›¾åƒï¼Œä¸»è¦æ˜¯åœ¨æ°´å¹³å’Œç«–ç›´æ–¹å‘ä¾æ¬¡åšç¿»è½¬+æ‹¼æ¥æ“ä½œã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-b8ed52e6d060aee2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="éåœ†è§’å’Œåœ†è§’çš„å€™é€‰åŒºåŸŸéªŒè¯å¯¹æ¯”"></p>
<p>å¦‚å›¾ï¼Œå¾—åˆ°å¯¹ç§°å›¾å½¢åï¼Œæˆ‘ä»¬æ²¿ç”¨ä¸Šæ–‡çš„éœå¤«åœ†ç¯å˜æ¢æ¥æ£€æµ‹æ˜¯å¦å­˜åœ¨åœ†å½¢ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™åœ†è§’ä¹Ÿå­˜åœ¨ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<h4 id="ä»£ç å®ç°-3"><a href="#ä»£ç å®ç°-3" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¨ç®—å¯èƒ½çš„åœ†è§’åŠå¾„</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCornerRadius</span><span class="params">(img)</span>:</span></span><br><span class="line">    cornerRadius = <span class="number">0</span></span><br><span class="line">    corner_mask_size = img[img[:, :, <span class="number">3</span>] != <span class="number">1</span>].size</span><br><span class="line">    <span class="comment"># </span></span><br><span class="line">    <span class="keyword">if</span> corner_mask_size &gt;= <span class="number">0</span>:</span><br><span class="line">        cornerRadius = round(math.sqrt((corner_mask_size / <span class="number">3</span>) / (<span class="number">1</span> - np.pi / <span class="number">4</span>)))</span><br><span class="line">    <span class="keyword">return</span> cornerRadius</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯å€™é€‰åŒºåŸŸæ˜¯å¦ä¸ºåœ†è§’ï¼Œä»¥å·¦ä¸Šåœ†è§’ä¸ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">vertifyCorner</span><span class="params">(img, cornerRadius)</span>:</span></span><br><span class="line">    cornerArea = img[:cornerRadius, :cornerRadius] <span class="comment"># è£å‰ªå‡ºå€™é€‰åŒºåŸŸ</span></span><br><span class="line">    binary_image = np.zeros(cornerArea.shape[<span class="number">0</span>:<span class="number">2</span>],dtype=np.uint8) <span class="comment"># æ„é€ äºŒå€¼å›¾</span></span><br><span class="line">    binary_image[cornerArea[:,:,<span class="number">3</span>] != <span class="number">0</span>] = <span class="number">255</span></span><br><span class="line">    horizontal = cv2.flip(img, <span class="number">1</span>, dst=<span class="literal">None</span>) <span class="comment"># æ°´å¹³é•œåƒ</span></span><br><span class="line">    img=cv2.hconcat([img, horizontal]) <span class="comment"># æ°´å¹³æ‹¼æ¥</span></span><br><span class="line">    vertical = cv2.flip(img, <span class="number">0</span>, dst=<span class="literal">None</span>) <span class="comment"># å‚ç›´é•œåƒ</span></span><br><span class="line">    img=cv2.vconcat([img, vertical]) <span class="comment"># å‚ç›´æ‹¼æ¥</span></span><br><span class="line">    img = cv2.copyMakeBorder(img, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, cv2.BORDER_CONSTANT, value = [<span class="number">0</span>])</span><br><span class="line">    circles = cv2.HoughCircles(img, cv2.HOUGH_GRADIENT,<span class="number">1</span>,<span class="number">20</span>)</span><br><span class="line">    <span class="keyword">if</span> circles <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-è¾¹æ¡†è®¡ç®—"><a href="#3-2-è¾¹æ¡†è®¡ç®—" class="headerlink" title="3.2 è¾¹æ¡†è®¡ç®—"></a>3.2 è¾¹æ¡†è®¡ç®—</h3><p>å¯¹äºè¾¹æ¡†çš„è®¡ç®—ï¼Œæˆ‘ä»¬åŒæ ·æ˜¯å…ˆç¡®å®šè¾¹æ¡†çš„æè¿°ç‰¹å¾ï¼šA. è¾¹æ¡†å†…çš„é¢œè‰²è¿ç»­ä¸ç›¸è¿‘ï¼›B. å¤–è½®å»“å’Œå†…è½®å»“æ˜¯å½¢çŠ¶ç›¸ä¼¼çš„ã€‚åŸºäºè¿™ä¸ªç‰¹å¾ï¼Œæˆ‘åˆ¶å®šäº†ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>è‰²å—åˆ†ç¦»ï¼šå¯¹å›¾åƒåŸºäºé¢œè‰²èšç±»ï¼Œç›¸è¿‘è‰²åŒºèšç±»åŒä¸€è‰²å—</li>
<li>éå†ä¸åŒè‰²å—ï¼Œæå–æ¯ä¸ªè‰²å—å†…å¤–è½®å»“ï¼Œå¹¶è®¡ç®—å…¶ç›¸ä¼¼åº¦</li>
</ol>
<h4 id="3-2-1-è‰²å—åˆ†ç¦»"><a href="#3-2-1-è‰²å—åˆ†ç¦»" class="headerlink" title="3.2.1 è‰²å—åˆ†ç¦»"></a>3.2.1 è‰²å—åˆ†ç¦»</h4><p>è¾¹æ¡†å…·æœ‰é¢œè‰²ç›¸è¿‘çš„ç‰¹å¾ï¼Œæˆ‘ä»¬é€šè¿‡èšç±»ç®—æ³•å¯¹ç›®æ ‡å›¾åƒè®©é¢œè‰²ç›¸è¿‘çš„åŒºåŸŸå½’ç±»ï¼Œè¿™é‡Œé‡‡ç”¨<code>k-means</code>ç®—æ³•èšç±»ï¼Œèšç±»ç‰¹å¾åŸºäºå›¾åƒçš„<a href="https://blog.csdn.net/u010429424/article/details/76577399" target="_blank" rel="noopener">HSVè‰²å½©ç©ºé—´</a>ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/1939855-440976f603bdcdc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="k-meanså¯¹å›¾ç‰‡è¿›è¡Œè‰²å—åˆ†ç¦»æ•ˆæœ"></p>
<h5 id="ä»£ç å®ç°-4"><a href="#ä»£ç å®ç°-4" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""k-meansèšç±»"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">image_kmeansSegement</span><span class="params">(img, k=<span class="number">6</span>)</span>:</span></span><br><span class="line">    <span class="comment"># å°†å›¾ç‰‡ä»RGBç©ºé—´è½¬ä¸ºHSV</span></span><br><span class="line">    img = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)</span><br><span class="line">    data = img.reshape((<span class="number">-1</span>, <span class="number">3</span>))</span><br><span class="line">    data = np.float32(data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># MAX_ITERæœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ŒEPSæœ€é«˜ç²¾åº¦</span></span><br><span class="line">    criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, <span class="number">10</span>, <span class="number">1.0</span>)</span><br><span class="line">    num_clusters = k</span><br><span class="line">    ret, label, center = cv2.kmeans(</span><br><span class="line">        data, num_clusters, <span class="literal">None</span>, criteria, num_clusters, cv2.KMEANS_RANDOM_CENTERS</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    center = cv2.cvtColor(np.array([center], dtype=np.uint8), cv2.COLOR_HSV2BGR)[<span class="number">0</span>]</span><br><span class="line">    labels = label.flatten()</span><br><span class="line">    <span class="keyword">return</span> labels, center</span><br></pre></td></tr></table></figure>
<h4 id="3-2-2-å€™é€‰åŒºåŸŸéªŒè¯"><a href="#3-2-2-å€™é€‰åŒºåŸŸéªŒè¯" class="headerlink" title="3.2.2 å€™é€‰åŒºåŸŸéªŒè¯"></a>3.2.2 å€™é€‰åŒºåŸŸéªŒè¯</h4><p>è¿™ä¸€æ­¥æ˜¯éå†kä¸ªå€™é€‰è‰²å—ï¼Œå¯¹è‰²å—åˆ†åˆ«è¿›è¡Œå¤–è½®å»“å’Œå†…è½®å»“æå–ï¼Œå†åˆ¤æ–­è‰²å—å†…å¤–è½®å»“æ˜¯å¦å½¢çŠ¶ç›¸ä¼¼ã€‚<br>å…¶ä¸­å¤–è½®å»“çš„æå–ç›´æ¥å¤ç”¨å‰é¢çš„<code>cv2.findContours</code>æ–¹æ³•ï¼Œè¾“å…¥è‰²å—ï¼Œè¾“å‡ºå¤–è½®å»“å¡«å……å›¾ã€‚<br>å†…è½®å»“åˆ™éœ€è¦åˆ†ä¸¤æ­¥ï¼Œé¦–å…ˆå¯¹å¤–è½®å»“å¡«å……å›¾ä¸è‰²å—å¡«å……å›¾è¿›è¡Œå·®è¿ç®—å¾—åˆ°â€œå†…åŸŸâ€ï¼Œå†å¯¹å†…åŸŸè¿›è¡Œ<code>cv2.findContours</code>ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1939855-b05c9056e868c828.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="pHashè®¡ç®—å¤–è½®å»“ä¸å†…è½®å»“ç›¸ä¼¼åº¦"></p>
<p>æ‹¿åˆ°å†…å¤–è½®å»“åï¼Œæˆ‘ä½¿ç”¨<a href="https://blog.csdn.net/mago2015/article/details/81137089" target="_blank" rel="noopener">æ„ŸçŸ¥å“ˆå¸ŒpHash</a> + æ±‰æ˜è·ç¦»è¿›è¡Œç›¸ä¼¼åº¦è®¡ç®—ï¼Œå®ƒä¸»è¦é€šè¿‡é¢œè‰²ä½é‡‡æ ·å°†å›¾ç‰‡ç»Ÿä¸€ç¼©å°åˆ°32Ã—32å°ºå¯¸å¹¶è¾“å‡ºå›¾åƒç­¾åï¼Œå¾ˆå¥½åœ°è§£å†³ç›¸ä¼¼å½¢çŠ¶ä¸­å¤§å°ä¸ä¸€è‡´å¸¦æ¥çš„è¯¯å·®ã€‚</p>
<h5 id="ä»£ç å®ç°-5"><a href="#ä»£ç å®ç°-5" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""éªŒè¯æ¯ä¸ªè‰²å—æ˜¯å¦å­˜åœ¨è¾¹æ¡†ç‰¹å¾B"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">borderExtract</span><span class="params">(labels, center, img_filled)</span>:</span></span><br><span class="line">    <span class="comment"># éå†k-meansåˆ†ç¦»çš„kä¸ªè‰²å—</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(labels.max()):</span><br><span class="line">        area = np.zeros((labels.size), dtype=np.uint8)</span><br><span class="line">        area[labels == i] = <span class="number">255</span></span><br><span class="line">        area = area.reshape(img_filled.shape)</span><br><span class="line">        <span class="comment"># è·å–å½“å‰è‰²å—å¤–è½®å»“ï¼Œç”¨ç™½è‰²å¡«å……</span></span><br><span class="line">        outter_filled, *_ = image_contours(area)</span><br><span class="line">        <span class="comment"># è·å–å½“å‰è‰²å—å†…è½®å»“ï¼Œç”¨ç™½è‰²å¡«å……</span></span><br><span class="line">        result = outter_filled - area</span><br><span class="line">        result[result &lt; <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        inner_filled, *_ = image_contours(result)</span><br><span class="line">        <span class="comment"># åˆ¤æ–­å¤–è½®å»“å’Œå†…è½®å»“æ˜¯å¦ç›¸ä¼¼</span></span><br><span class="line">        <span class="keyword">if</span> isSimilar(outter_filled, inner_filled) &amp; isSimilar(img_filled, filled1):</span><br><span class="line">            s1 = np.where(filled1 &gt; <span class="number">0</span>)[<span class="number">0</span>].size</span><br><span class="line">            s2 = np.where(filled2 &gt; <span class="number">0</span>)[<span class="number">0</span>].size</span><br><span class="line">            scale = (<span class="number">1.0</span> - math.sqrt(s2 / s1)) * <span class="number">0.5</span></span><br><span class="line">            _drawBorder(filled1 - filled2, center[i])</span><br><span class="line">            <span class="keyword">return</span> scale, center[i], filled2</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""ä½¿ç”¨pHashç®—æ³•è®¡ç®—è½®å»“ä¹‹é—´ç›¸ä¼¼åº¦"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isSimilar</span><span class="params">(img1, img2, th=<span class="number">0.8</span>)</span>:</span></span><br><span class="line">    HASH1 = PHash.pHash(img1)</span><br><span class="line">    HASH2 = PHash.pHash(img2)</span><br><span class="line">    distance, score = PHash.hammingDist(HASH1, HASH2)</span><br><span class="line">    print(score)</span><br><span class="line">    <span class="keyword">return</span> score &gt; th</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡é€šè¿‡OpenCVç³»åˆ—ç®—æ³•åˆ†åˆ«å®ç°ç®€å•ç»„ä»¶åŒºåŸŸçš„åˆ†ç¦»å’Œæ ·å¼çš„æ£€æµ‹ï¼Œå¯¹äºç»„ä»¶çš„åŒºåŸŸæ£€æµ‹ï¼Œç›®å‰æ˜¯é€šè¿‡æ‰‹å·¥æ¡†é€‰çš„æ‰‹æ®µç¡®å®šç»„ä»¶åŒºåŸŸï¼Œå¦‚æœè¦å®Œå…¨è‡ªåŠ¨åŒ–å®ç°Pixels to Codeï¼Œè¿˜éœ€è¦å€ŸåŠ©æ·±åº¦å·ç§¯ç½‘ç»œè¿›è¡Œç»„ä»¶æ£€æµ‹ä¸è¯†åˆ«ã€‚</p>
<p>æœ€åï¼Œæœ¬äººå°†äº9æœˆ5å·å‚ä¸2020è…¾è®¯liveå¼€å‘è€…å¤§ä¼šï¼Œä»‹ç»æ›´å¤šå‰ç«¯æ™ºèƒ½åŒ–å†…å®¹ï¼Œæ¬¢è¿æœ‰å…´è¶£ç«¥é‹å‰æ¥è§‚æ‘©ğŸ‘‡<br>è…¾è®¯Liveå¼€å‘è€…å¤§ä¼šâ€‹ï¼š<a href="https://2020.tlc.ivweb.io/detail/?number=8" target="_blank" rel="noopener">https://2020.tlc.ivweb.io/detail/?number=8</a></p>
<p>æ›´å¤šæ–‡ç« æ¬¢è¿å…³æ³¨ï¼š<a href="https://zhuanlan.zhihu.com/webxr" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/webxr</a></p>
<h2 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h2><p>æœ€å…¨ç»¼è¿° | å›¾åƒåˆ†å‰²ç®—æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/70758906" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/70758906</a></p>
<p>pHashå›¾åƒç›¸ä¼¼åº¦æ¯”è¾ƒç®—æ³•æ±‡æ€»ï¼š<a href="https://blog.csdn.net/mago2015/article/details/81137089" target="_blank" rel="noopener">https://blog.csdn.net/mago2015/article/details/81137089</a></p>
<p>æœºå™¨å­¦ä¹ ç®—æ³•å®è·µâ€”â€”K-Meansç®—æ³•ä¸å›¾åƒåˆ†å‰²ï¼š<a href="https://blog.csdn.net/google19890102/article/details/52911835" target="_blank" rel="noopener">https://blog.csdn.net/google19890102/article/details/52911835</a></p>
<p>éœå¤«å˜æ¢ï¼š<a href="https://en.wikipedia.org/wiki/Hough_transform" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Hough_transform</a></p>
<p>Suzuki85è½®å»“è·Ÿè¸ªç®—æ³•ï¼š<a href="https://blog.csdn.net/yiqiudream/article/details/76864722" target="_blank" rel="noopener">https://blog.csdn.net/yiqiudream/article/details/76864722</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/opencv/" rel="tag"># opencv</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/11/webgl-noise/" rel="next" title="WebGLè¿›é˜¶â€”â€”èµ°è¿›å›¾å½¢å™ªå£°">
                <i class="fa fa-chevron-left"></i> WebGLè¿›é˜¶â€”â€”èµ°è¿›å›¾å½¢å™ªå£°
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">Yone Chen</p>
            <p class="site-description motion-element" itemprop="description">æŠ€æœ¯ç©ºé—´ç«™</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#æ ·å¼æå–æ–¹æ¡ˆ"><span class="nav-number">1.</span> <span class="nav-text">æ ·å¼æå–æ–¹æ¡ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ"><span class="nav-number">1.1.</span> <span class="nav-text">1. ä»å›¾ç‰‡åˆ†ç¦»ç»„ä»¶åŒºåŸŸ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç å®ç°"><span class="nav-number">1.1.1.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-å½¢çŠ¶æ£€æµ‹"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. å½¢çŠ¶æ£€æµ‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-å¤–è½®å»“æå–"><span class="nav-number">1.1.3.</span> <span class="nav-text">2.1 å¤–è½®å»“æå–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç å®ç°-1"><span class="nav-number">1.1.4.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹"><span class="nav-number">1.1.5.</span> <span class="nav-text">2.2 ç»„ä»¶çš„å½¢çŠ¶æ£€æµ‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1-çŸ©å½¢æ£€æµ‹"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">2.2.1 çŸ©å½¢æ£€æµ‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»£ç å®ç°-2"><span class="nav-number">1.1.5.2.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-åœ†å½¢æ£€æµ‹"><span class="nav-number">1.1.5.3.</span> <span class="nav-text">2.2.2 åœ†å½¢æ£€æµ‹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-ç»„ä»¶çš„æ ·å¼è®¡ç®—"><span class="nav-number">1.2.</span> <span class="nav-text">3. ç»„ä»¶çš„æ ·å¼è®¡ç®—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-åœ†è§’è®¡ç®—"><span class="nav-number">1.2.1.</span> <span class="nav-text">3.1 åœ†è§’è®¡ç®—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-åœ†è§’åŠå¾„æ¨ç®—"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">3.1.1 åœ†è§’åŠå¾„æ¨ç®—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-å€™é€‰åŒºåŸŸéªŒè¯"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">3.1.2 å€™é€‰åŒºåŸŸéªŒè¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»£ç å®ç°-3"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-è¾¹æ¡†è®¡ç®—"><span class="nav-number">1.2.2.</span> <span class="nav-text">3.2 è¾¹æ¡†è®¡ç®—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-è‰²å—åˆ†ç¦»"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">3.2.1 è‰²å—åˆ†ç¦»</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä»£ç å®ç°-4"><span class="nav-number">1.2.2.1.1.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-å€™é€‰åŒºåŸŸéªŒè¯"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">3.2.2 å€™é€‰åŒºåŸŸéªŒè¯</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä»£ç å®ç°-5"><span class="nav-number">1.2.2.2.1.</span> <span class="nav-text">ä»£ç å®ç°</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number">2.</span> <span class="nav-text">æ€»ç»“</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç›¸å…³èµ„æ–™"><span class="nav-number">2.1.</span> <span class="nav-text">ç›¸å…³èµ„æ–™</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yone Chen</span> |
  <a href="https://beian.miit.gov.cn/">ç²¤ICPå¤‡17126485å·</a>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>

  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
